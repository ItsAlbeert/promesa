<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio - Reflexión Personal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="parallax">
  <section class="parallax__header">
    <div class="parallax__visuals">
      <div class="parallax__black-line-overflow"></div>
      <div data-parallax-layers class="parallax__layers">

        <img src="sin sergio.png" loading="eager" width="800" data-parallax-layer="1" alt="Fondo Parallax 1" class="parallax__layer-img">

        <img src="sin fondo.png" loading="eager" width="800" data-parallax-layer="2" alt="Fondo Parallax 2" class="parallax__layer-img">

        <div data-parallax-layer="3" class="parallax__layer-title">
          <h1 class="parallax__title">El lema, la base<br>sobre la que nos regimos</h1>
        </div>

        <img src="sergio sin fondo v.png" loading="eager" width="800" data-parallax-layer="4" alt="Fondo Parallax 3" class="parallax__layer-img">

      </div>
      <div class="parallax__fade"></div>
    </div>
  </section>

  <section class="parallax__content">
    <h2 class="content__subtitle">Los amigos son la familia que elegimos</h2>
    <button class="content__button" onclick="window.location.href='instrucciones.html'">Comenzar</button>
  </section>
</div>

<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
<script src="https://unpkg.com/lenis@1.1.14/dist/lenis.min.js"></script>
<script>
// ------- Osmo [https://osmo.supply/] ------- //
document.addEventListener("DOMContentLoaded", () => {
  // Register GSAP Plugins
  gsap.registerPlugin(ScrollTrigger);
  // Parallax Layers
  document.querySelectorAll('[data-parallax-layers]').forEach((triggerElement) => {
    let tl = gsap.timeline({
      scrollTrigger: {
        trigger: triggerElement,
        start: "0% 0%",
        end: "100% 0%",
        scrub: 0
      }
    });
    const layers = [
      { layer: "1", yPercent: 70 }, // Fondo más lejano, se mueve más lento
      { layer: "2", yPercent: 55 },
      { layer: "3", yPercent: 40 }, // Título
      { layer: "4", yPercent: 10 }  // Primer plano, se mueve más rápido
    ];
    layers.forEach((layerObj, idx) => {
      tl.to(
        triggerElement.querySelectorAll(`[data-parallax-layer="${layerObj.layer}"]`),
        {
          yPercent: layerObj.yPercent,
          ease: "none"
        },
        idx === 0 ? undefined : "<" // Anima todas las capas simultáneamente
      );
    });
  });
});
/* Lenis */
const lenis = new Lenis();
lenis.on('scroll', ScrollTrigger.update);
gsap.ticker.add((time) => {lenis.raf(time * 1000);});
gsap.ticker.lagSmoothing(0);
</script>

</body>
</html>